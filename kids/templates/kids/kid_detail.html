{% extends "kids/layout.html" %}
{% load static %}
{% block title %}

    kid detail

{% endblock %}
{% block script %}

    <script src="{% static 'kids/kid_detail.js' %}"></script>

{% endblock %}
{% block main %}

    <h1>Kid detail</h1>
    <button class="color-btn" data-font_weight="bold">Bold</button>
    <button class="color-btn" data-font_weight="normal">Normal</button>
    {% for detail in details_1 %}

        <div class="list-line-detail">
            <div class="list-left-detail">
                <p>{{ detail.key }}</p>
            </div>
            <div class="list-right-detail">
                <strong>{{ detail.value }}</strong>
            </div>
        </div>

    {% endfor %}
    {% for detail in details_2 %}

        <div class="list-line-detail">
            <div class="list-left-detail">
                <p>{{ detail.key }}</p>
            </div>
            <div class="list-right-detail-link">              
                <form action="{% url 'kids:evaluate' %}" method="post">
                    {% csrf_token %}
                    <input name="id" type="hidden" value="{{ kid.id }}">
                    <input name="aspect" type="hidden" value="{{ detail.sub }}">
                    <button class="btn btn-link">
                        {% if detail.value == 'Very Low' or detail.value == 'Low' %}

                            <strong style="color: red;">{{ detail.value }}</strong>
                            
                        {% elif detail.value == 'Excellent' or detail.value == 'Good' %}

                            <strong style="color: green;">{{ detail.value }}</strong>

                        {% else %}

                            <strong style="color: blue;">{{ detail.value }}</strong>

                        {% endif %}
                    </button>
                </form>
            </div>
        </div>        

    {% endfor %}       
    
    <div class="list-line-detail">
        <div class="list-left-detail">
            <p>Currently in courses</p>
        </div>
        <div class="list-right-detail">
            {% for course in courses %}

                {% if not forloop.last %}

                    <a href="{% url 'kids:course_detail' course_id=course.id %}">
                        <strong>{{ course }},</strong>
                    </a>
                                        

                {% else %}

                    <a href="{% url 'kids:course_detail' course_id=course.id %}">
                        <strong>{{ course }}</strong>
                    </a>                                        

                {% endif %}

            {% empty %}

                <strong>This kid was not in any course yet.</strong>
                <a href="{% url 'kids:index' %}">Go to course list</a>                

            {% endfor %}
        </div>
    </div>
    <div style="margin-top: 50px;" class="list-line-detail">
        <div class="list-left-detail">
            <p>Total cost per 4 weeks</p>
        </div>
        <div class="list-right-detail">
            <strong id="total_cost" style="color: red; font-size: 24px;">{{ cost }}</strong> <strong style="font-size: 24px; color: red;" id="cost-currency">USD</strong>            
        </div>        
    </div>
    <p style="margin-left: 1000px;">Currency</p>
    <select id="currency" style="margin-left: 1000px;">
        <option selected value="USD">USD</option>
        <option value="EUR">EUR</option>
        <option value="VND">VND</option>
    </select>
    <h1>Course today</h1>
    <form id="spend-time-form" action="{% url 'kids:spend_time' %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="kid_id" value="{{ kid.id }}">
        <select name="course_id">
            <option disabled selected value="">Choose course</option>
            {% for course in courses %}

                <option value="{{ course.id }}">{{ course.title }}</option>

            {% endfor %}
        </select>
        <select name="duration">
            <option value="1">ONE HOUR</option>
            <option value="2">TWO HOURS</option>
        </select>
    </form>
    <button type="submit" form="spend-time-form">Learned</button>

{% endblock %}